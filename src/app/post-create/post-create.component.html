

<mat-card>
    <mat-spinner *ngIf = "isLoading"></mat-spinner>
    <form [formGroup] = 'form' *ngIf = "!isLoading" (submit) = "onSavePost()" >
        <mat-form-field>
            <input matInput
            type="text"     
           formControlName = "title"
            placeholder = 'Post Title'>
            <mat-error *ngIf = "form.get('title').invalid">Please enter title</mat-error>
        </mat-form-field>

        <div mat-button>
            <button (click) = "filepicker.click()" type="button"> Pick Image</button>
            <input (change) = "onImageChange($event)" #filepicker type="file"/>
        </div>
        <div class="image-preview" *ngIf = "imagePreview !=='' && imagePreview && form.get('image').valid">
            <img *ngIf = "imagePreview !=='' && imagePreview" [src]="imagePreview" [alt]="form.value.title">
        </div>
        
        <mat-form-field>
            <textarea matInput rows = "6" 
            formControlName = "content"
            placeholder = 'Content'
            ></textarea>
            <mat-error *ngIf = "form.get('content').invalid"> enter content</mat-error>
        </mat-form-field>
        <button mat-raised-button type="submit">Save</button>
    </form>
</mat-card>


